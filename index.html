<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>To-Do App</title>

  <script src="https://cdn.tailwindcss.com"></script>
  <script>tailwind.config = { darkMode: 'class' };</script>

  <link rel="stylesheet" href="style.css" />
</head>

<body class="min-h-screen flex flex-col bg-gray-50 text-gray-900 dark:bg-gray-900 dark:text-gray-100 transition-colors duration-500 font-sans">

  <!-- Navbar -->
  <div id="navbar-container"></div>

  <!-- Main -->
  <main class="flex-1 flex flex-col items-center px-4 py-6 sm:px-6 gap-6">

    <!-- ðŸ‘¤ Profile Card -->
    <div id="profileCard" class="hidden w-full max-w-xl bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl shadow p-5 transition">
      <div class="flex items-center gap-4">
        <img id="cardPhoto" src="https://via.placeholder.com/80"
             class="w-16 h-16 rounded-full border border-gray-300 dark:border-gray-600 object-cover shadow" />
        <div>
          <h2 id="cardName" class="text-lg font-bold">User Name</h2>
          <p id="cardBio" class="text-sm text-gray-600 dark:text-gray-300 italic">Bio</p>
          <p id="cardInterests" class="text-xs text-gray-500 dark:text-gray-400 mt-1">ðŸŽ¯ Interests: â€”</p>
        </div>
      </div>
    </div>

    <!-- ðŸ§  Task Container -->
    <div class="w-full max-w-xl bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl shadow p-6">
      <h2 class="text-2xl font-bold text-center mb-6">ðŸ§  Your Tasks</h2>

      <!-- Task Form -->
      <form id="taskForm" class="flex flex-col gap-3 mb-4">
        <input id="taskInput" placeholder="Enter a task..."
          class="p-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-indigo-500 outline-none" />
        <input id="taskDeadline" type="date"
          class="p-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-indigo-500 outline-none" />
        <button
          class="p-3 bg-indigo-600 hover:bg-indigo-700 dark:bg-violet-600 dark:hover:bg-violet-700 text-white rounded-lg font-semibold">
          Add Task
        </button>
      </form>

      <!-- Filters -->
      <div class="flex justify-center gap-2 mb-4">
        <button class="filter-btn active-filter px-3 py-1.5 rounded-lg text-sm border border-indigo-400 text-indigo-600 dark:border-violet-400 dark:text-violet-400" data-filter="all">All</button>
        <button class="filter-btn px-3 py-1.5 rounded-lg text-sm border border-indigo-400 text-indigo-600 dark:border-violet-400 dark:text-violet-400" data-filter="active">Active</button>
        <button class="filter-btn px-3 py-1.5 rounded-lg text-sm border border-indigo-400 text-indigo-600 dark:border-violet-400 dark:text-violet-400" data-filter="completed">Completed</button>
      </div>

      <!-- Bulk Actions -->
      <div class="flex justify-between mb-4">
        <button id="markAll"
          class="px-3 py-1.5 bg-green-500 hover:bg-green-600 text-white rounded-lg text-sm font-medium">âœ… Mark All</button>
        <button id="clearCompleted"
          class="px-3 py-1.5 bg-red-500 hover:bg-red-600 text-white rounded-lg text-sm font-medium">ðŸ§¹ Clear</button>
      </div>

      <ul id="taskList" class="space-y-2"></ul>
    </div>
  </main>

  <!-- Footer -->
  <div id="footer-container"></div>

  <script src="navbar.js"></script>
  <script src="footer.js"></script>
  <script src="script.js"></script>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const profileCard = document.getElementById("profileCard");
      const cardName = document.getElementById("cardName");
      const cardBio = document.getElementById("cardBio");
      const cardInterests = document.getElementById("cardInterests");
      const cardPhoto = document.getElementById("cardPhoto");

      const loggedIn = localStorage.getItem("loggedIn") === "true";
      const profile = JSON.parse(localStorage.getItem("userProfile")) || null;

      if (loggedIn && profile) {
        profileCard.classList.remove("hidden");
        cardName.textContent = profile.name || "Your Name";
        cardBio.textContent = profile.bio || "No bio yet.";
        cardInterests.textContent = `ðŸŽ¯ Interests: ${profile.interests || "â€”"}`;
        cardPhoto.src = profile.photo || "https://via.placeholder.com/80";
      }
    });
  </script>
</body>
</html>
